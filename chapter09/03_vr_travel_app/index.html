<!doctype html>
<html>
  <head>
    <title>Chapter 8 - A-Frame webVR template</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
    <link rel="stylesheet" type="text/css" href="styles.css" media="all" />
  
 
    <script src="https://unpkg.com/aframe@1.4.2/dist/aframe-master.js"></script>
    <script src="https://unpkg.com/aframe-extras@7.1.0/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/three@0.147.0/examples/js/loaders/RGBELoader.js"></script>

    <script src="./js/components.js"></script>


  </head>


  <body style="touch-action: none">

      <div id="videos"></div>

      <a-scene 
        renderer="antialias: true; colorManagement: true; physicallyCorrectLights: true;" 
        xr-mode-ui="enabled: true" shadow="type: pcf" light="defaultLightsEnabled: false"
        loading-screen="enabled: true;"
        gltf-model="dracoDecoderPath: https://ar-libs.blippar.com/components/draco/1.4.1/;"
        raycaster="objects: .clickable"
        cursor="fuse: false; rayOrigin: mouse"
      >

        <a-assets>
          <img id="room_img" src="./assets/images/room.jpg" />
          <img id="blur_img" src="./assets/images/blur.png" />
        </a-assets>


        <!-- Camera -->
        <a-entity id="rig" position="0 3 0" rotation="0 0 0">

          <a-entity camera="near: 0.005; fov:75;" id="camera" position="0 0 0" look-controls="pointerLockEnabled: false">
            <a-circle id="close_btn" position="1 0.65 -1" scale="0.05 0.05 0.05" color="#000000" material="shader:flat" visible="false">
              <a-text position="0 0.166 0.01" value="x" text="anchor: center;align: center; wrapCount: 5" material="shader:flat"></a-text>
            </a-circle>
          </a-entity>

          <a-entity id="leftHand" laser-controls="hand: left" windows-motion-controls="hand: left" oculus-touch-controls="hand: left" vive-controls="hand: left" raycaster="objects: .clickable; far: 100" ></a-entity>
          <a-entity id="rightHand" laser-controls="hand: right" windows-motion-controls="hand: right" oculus-touch-controls="hand: right" vive-controls="hand: right" raycaster="objects: .clickable; far: 100"></a-entity>

        </a-entity>


        <a-entity id="container" position="0 0 0">
            <a-entity id="scene_container" rotation="0 0 0">

              <a-entity id="vr_interface" position="0 1.9 0"
                animation__fade_out="property: group-opacity; from: 1; to: 0; dur: 1000; easing: linear; startEvents: fadeOut"
                animation__fade_in= "property: group-opacity; from: 0; to: 1; dur: 1000; easing: linear; startEvents: fadeIn"
              >

                <a-text position="0 1.48 -1" value="Welcome to the VR Travel App!" text="anchor: center; width: 0.76; align: center; wrapCount: 14.15" material="shader: flat"></a-text>

                <a-text position="0 1.25542 -1" value="Navigate through the destinations to get immersed into it" text="anchor: center; width: 0.85; align: center; wrapCount: 28.05" material="shader: flat"></a-text>

                <a-entity id="menu_container" position="0 0 1"></a-entity>

                <a-sky id="room" src="#room_img" radius="250" rotation="0 121 0" ></a-sky>
              </a-entity>



              <a-sky id="vr_environment" src="" rotation="0 90 0" visible="false" opacity="0"
                animation__fade_out="property: opacity; from: 1; to: 0; dur: 1000; easing: linear; startEvents: fadeOut"
                animation__fade_in= "property: opacity; from: 0; to: 1; dur: 1000; easing: linear; startEvents: fadeIn"
              ></a-sky>

            </a-entity>


        </a-entity>

        



      </a-entity>




    </a-scene>


    <script type="module" src="js/main.js"></script>

</body>

</html>